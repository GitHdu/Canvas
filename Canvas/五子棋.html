<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>五子棋</title>
    </head>
    <body>
        <canvas id="canvas" style="margin:50px auto;box-shadow: -2px -2px 2px #efefef,5px 5px 5px #bfbfbf;display:block"></canvas>
        <script>
        window.onload=function(){
            var canvas=document.getElementById("canvas");
            canvas.width=450;
            canvas.height=450;
            var context=canvas.getContext("2d");
            var me=true;
            var chessboard=[];
            for (var i= 0;i<15;i++) {
                chessboard[i]=[];
                for(var j=0;j<15;j++){
                    chessboard[i][j]=0;
                }
            }

            context.strokeStyle="#bfbfbf";
            for (var i = 0;i<15;i++) {
                context.moveTo(15,15+30*i);//笔尖位置
                context.lineTo(435,15+30*i);//终点
                context.stroke();//绘制
                context.moveTo(15+30*i,15);//笔尖位置
                context.lineTo(15+30*i,435);//终点
                context.stroke();//绘制
            }

            var onestep=function(i,j,me){
                context.beginPath();
                context.arc(15+i*30,15+j*30,13,0,2*Math.PI)
                context.closePath();
                var gradient=context.createRadialGradient(15+i*30+2,15+j*30-2,13,15+i*30+2,15+j*30-2,0);
                if(me){ //黑子
                        gradient.addColorStop(0,"#0a0a0a");
                        gradient.addColorStop(1,"#636766");
                }else{ //白子
                        gradient.addColorStop(0,"#d1d1d1");
                        gradient.addColorStop(1,"#f9f9f9");
                }

                context.fillStyle=gradient;
                context.fill();
            }

            canvas.onclick=function(e){
                var x=e.offsetX;
                var y=e.offsetY;
                var i=Math.floor(x/30);
                var j=Math.floor(y/30);
                if(chessboard[i][j]==0){
                onestep(i,j,me);
                if(me){
                    chessboard[i][j]=1;
                }else{
                    chessboard[i][j]=2;
                }
                me=!me;}
            }
        }
        </script>
    </body>
</html>